<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en">
<title>Avoid using MOVE CORRESPONDING ... TO ...</title>
<link rel="StyleSheet" href="../../style.css" type="text/css">
</head>
<body>
<h4>Avoid using MOVE CORRESPONDING ... TO ...</h4>
<hr>
<h5>Technology</h5>
<p>Cobol</p>
<h5>Unified Status</h5>
<p>N/A</p>
<h5>XXL Status</h5>
<p>N/A</p>
<h5>Critical Quality Rule</h5>
<p>Yes</p>
<h5>Weight in Parent Tech. Criterion</h5>
<p>8</p>
<h5>Rationale</h5>
<p>The CORRESPONDING option allows moving fields from a data structure to another by using their respective names with only one statement. This option works silently because the moved fields are not explicitly specified and this can lead different problems: - A field is defined into only one data
structure - Two fields defined in the both data structures have the same name but not the same type. In the first case, the field will not be moved and the data will be lost. In the second case, data fields with different (incompatible?) types will be moved the one into the other and the data will
be corrupted because of truncated size or bad conversion.</p>
<h5>Description</h5>
<p>This rule searches for Cobol programs using MOVE CORRESPONDING statements.</p>
<h5>Remediation</h5>
<p>Try as much as possible to replace the MOVE CORRESPONDING statements by explicit MOVE statements or add explanations about fields to be moved in the code.</p>
<h5>Sample</h5>
<pre>
01 A.
    05 FIELD-1 PIC XX.
    05 FIELD-2 PIC XXX.
    05 FIELD-3 PIC 9.

01 B.
    05 FIELD-1 PIC XX.
    05 FIELD-4 PIC 999.
    05 FIELD-2 PIC X(3).

PROCEDURE DIVISION.

    MOVE CORRESPONDING A TO B.
</pre>
<h5>Remediation sample</h5>
<pre>
MOVE FIELD-1 OF A TO FIELD-1 OF B.
MOVE FIELD-2 OF A TO FIELD-2 OF B.
</pre>
<h5>Output</h5>
<p>Associated to each COBOL Program with violations, the Quality Rule provides: - The number of violation patterns - Bookmarks for violation patterns found in source code: - MOVE CORRESPONDING statement</p>
<h5>Total</h5>
<p>Number of Cobol Programs</p>
<h5>Metric ID</h5>
<p>5094</p>
<hr>
<p align="right"><a href="http://www.castsoftware.com" target="_blank"><img border="0" src="../../cast.gif" alt="CAST Website" width="174" height="21"></a></p>
</body>
</html>
