<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en">
<title>IF statements must be closed by END-IF</title>
<link rel="StyleSheet" href="../../style.css" type="text/css">
</head>
<body>
<h4>IF statements must be closed by END-IF</h4>
<hr>
<h5>Technology</h5>
<p>Cobol</p>
<h5>Unified Status</h5>
<p>N/A</p>
<h5>XXL Status</h5>
<p>N/A</p>
<h5>Critical Quality Rule</h5>
<p>No</p>
<h5>Weight in Parent Tech. Criterion</h5>
<p>6</p>
<h5>Rationale</h5>
<p>Since the Cobol 85 standard, Cobol language has allowed using statement terminators. Thus, the IF statement can be ended by a dot or by its specific scope terminator (END-IF). In the case where END-IF is not used, then the first dot encountered ends the IF block. This can create problems because
a dot is very difficult to see into the code of a program and it is very easy for a developer who wants to insert a new statement into the IF scope to add a dot accidentally. For instance, the following code contains a dot added accidentally before the GO TO statement (it belongs to the IF-block):
IF CPT = 10 MOVE 100 TO CD-VAR1. GO TO PARA-10. COMPUTE WS-TOT = WS-MAX - WS-MIN. As a result, the GO TO statement will be executed systematically and the next COMPUTE will become dead code! This kind of troubles may produce unpredictable results and the application can become instable. In
addition, even if the developer must only remove a dot, then it is extremely difficult for him to find where the problem is.</p>
<h5>Description</h5>
<p>This rule searches for Cobol programs using IF statements that are not closed by the END-IF terminator.</p>
<h5>Remediation</h5>
<p>Add END-IF terminator to all IF statements.</p>
<h5>Reference</h5>
<p>IBM Enterprise Cobol for z/OS - Language Reference</p>
<h5>Sample</h5>
<pre>
* In this example, the IF block ends after the PERFORM statement
* because a dot has been inserted accidentally 

IF A = 10
    MOVE &quot;OK&quot; TO VAR1
    PERFORM PARA-1.
    MOVE 19 TO VAR2.
ADD 1 TO A.
</pre>
<h5>Remediation sample</h5>
<pre>
IF A = 10
    MOVE &quot;OK&quot; TO VAR1
    PERFORM PARA-1
    MOVE 19 TO VAR2
END-IF
ADD 1 TO A.
</pre>
<h5>Output</h5>
<p>Associated to each COBOL Program with violations, the Quality Rule provides: - The number of violation patterns - Bookmarks for violation patterns found in source code: - IF statement that is not ended by the END-IF terminator</p>
<h5>Total</h5>
<p>Number of Cobol Programs</p>
<h5>Metric ID</h5>
<p>7304</p>
<hr>
<p align="right"><a href="http://www.castsoftware.com" target="_blank"><img border="0" src="../../../cast.gif" alt="CAST Website" width="174" height="21"></a></p>
</body>
</html>
