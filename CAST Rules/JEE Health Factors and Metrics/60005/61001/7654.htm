<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en">
<title>Avoid database tables associated to more than one Entity</title>
<link rel="StyleSheet" href="../../style.css" type="text/css">
</head>
<body>
<h4>Avoid database tables associated to more than one Entity</h4>
<hr>
<h5>Technology</h5>
<p>JEE</p>
<h5>Unified Status</h5>
<p>N/A</p>
<h5>XXL Status</h5>
<p>N/A</p>
<h5>Critical Quality Rule</h5>
<p>No</p>
<h5>Weight in Parent Tech. Criterion</h5>
<p>9</p>
<h5>Rationale</h5>
<p>One main source of data corruption within applications comes from lack of compliance to data modification rules defined for an application. These rules are usually related to the use of specific procedures for update/insert/delete, a specific API or a data layer that is fully tested to maintain
data integrity. The creation of new, different update/insert/delete procedures and functions that do not make use the existing tested code is at origin of many data corruption cases. In the case of Hibernate, having different mapping files associated with the same table is a source of such data
corruption.</p>
<h5>Description</h5>
<p>Reports tables associated to more than one Entity except for Entities that belong to the same hierarchy and that are stored into a single table using the table-per-class-hierarchy strategy (also know as SINGLE_TABLE in JPA) or that are stored into several tables using table-per-sub-class
strategy (also know as JOINED in JPA). Note that in the case where two hierarchy are associated to the same table, only the root Entity will be reported, not all the hierarchy.</p>
<h5>Remediation</h5>
<p>Review your design and decide which Entity must manage the table.</p>
<h5>Sample</h5>
<pre>
// VIOLATION: table A is referenced by two Entities
---&gt; a.hbm.xml
&lt;class name=&quot;A&quot; table=&quot;A&quot;&gt; 
    ...  
&lt;/class&gt;

---&gt; b.hbm.xml
&lt;class name=&quot;B&quot; table=&quot;A&quot;&gt; 
    ...  
&lt;/class&gt;
</pre>
<h5>Output</h5>
<p>List all Entities that reference the same table. It provides the following information: - Entity Full Name - table name</p>
<h5>Total</h5>
<p>The total is the number of Entity</p>
<h5>Metric ID</h5>
<p>7654</p>
<hr>
<p align="right"><a href="http://www.castsoftware.com" target="_blank"><img border="0" src="../../../cast.gif" alt="CAST Website" width="174" height="21"></a></p>
</body>
</html>
