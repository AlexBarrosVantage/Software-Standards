<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en">
<title>Avoid setting a pointer to the address of a local variable defined in a lower scope</title>
<link rel="StyleSheet" href="../../style.css" type="text/css">
</head>
<body>
<h4>Avoid setting a pointer to the address of a local variable defined in a lower scope</h4>
<hr>
<h5>Technology</h5>
<p>C Language, C++</p>
<h5>Unified Status</h5>
<p>N/A</p>
<h5>XXL Status</h5>
<p>N/A</p>
<h5>Critical Quality Rule</h5>
<p>Yes</p>
<h5>Weight in Parent Tech. Criterion</h5>
<p>9</p>
<h5>Rationale</h5>
<p>When a variable goes out of scope, all pointers or references to this variable become invalid. Any access to this data results in undefined behavior. The best way to make sure this situation does not occur is to have the pointer itself go out of scope at the same time as the pointed-to
variable.</p>
<h5>Description</h5>
<p>This rule searches for functions that set pointers to lower scope variables.</p>
<h5>Remediation</h5>
<p>Try to declare the local variable and the pointer in the same scope to avoid protection failures.</p>
<h5>Sample</h5>
<pre>
int *p;

void f()
{
 int i = 0;
 p = &amp;i; // Violation
}
</pre>
<h5>Output</h5>
<p>Associated to each C/C++ function with violations, the Quality Rule provides: - The number of violation patterns - Bookmarks for violation patterns found in the source code: - pointer assignment - pointer declaration - local variable declaration</p>
<h5>Total</h5>
<p>Number of C/C++ functions, constructors, destructors, and methods</p>
<h5>Metric ID</h5>
<p>8052</p>
<hr>
<p align="right"><a href="http://www.castsoftware.com" target="_blank"><img border="0" src="../../cast.gif" alt="CAST Website" width="174" height="21"></a></p>
</body>
</html>
